&i2c10 { // BMC_MUX_CPU0 TODO: Figureout right regulator
	status = "okay";
	// Bus frequency limited to 100KHz by cy8c9520

	i2cmux13: mux@77 {
		#address-cells = <1>;
		#size-cells = <0>;
		compatible = "maxim,max7357";
		reg = <0x77>;
		interrupt-parent = <&gpio0>;
		interrupts = <ASPEED_GPIO(R, 6) IRQ_TYPE_LEVEL_HIGH>; // BMC_MUX_CPU0_RST_INT_N
		vdd-supply = <&p3v3_aux>;

		i2c@0 { // SMB_PEX_CPU0_EVENT
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <0>;
			smb_pex_cpu0_event: U62080@20 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "cypress,cy8c9540";
				reg = <0x20>;
				gpio-controller;
				#gpio-cells = <2>;
				#interrupt-cells=<2>;
				interrupt-parent = <&smb_pex_vr_ctrl>;
				interrupts = <10 IRQ_TYPE_LEVEL_HIGH>; // SMB_PEX_CPU0_EVENT_INT
				interrupt-controller;
				vdd-supply = <&p3v3_aux>;
				ngpios = <17>;
				//FIXME: Used by unit testing. Uncomment on release.
				gpio-reserved-ranges = <14 2>, <21 1>, <25 3>, <33 1>;

				gpio-line-names =
				/* GPORT0 */
				"PWRGD_CHD_CPU0", "PWRGD_CHC_CPU0",
				"PWRGD_CHB_CPU0", "PWRGD_CHA_CPU0",
				"PWRGD_CHE_CPU0", "PWRGD_CHF_CPU0",
				"PWRGD_CHG_CPU0", "PWRGD_CHH_CPU0",
				/* GPORT1*/
				"SMB_VR_PVPP_HBM_CPU0_ALERT_N", "SMB_VR_PVCCINFAON_CPU0_ALERT_N",
				"SMB_VR_PVNN_MAIN_CPU0_ALERT_N", "SMB_VR_PVCCD_HV_CPU0_ALERT_N",
				"SMB_VR_PVCCIN_CPU0_ALERT_N", "SEL_SMB_DIMM_CPU0",
				"", "",
				/* GPORT2*/
				"PWRGD_LVC3_CPU0_AB_DRAM_G", "PWRGD_LVC3_CPU0_CD_DRAM_G",
				"PWRGD_LVC3_CPU0_EF_DRAM_G", "PWRGD_LVC3_CPU0_GH_DRAM_G",
				/* GPORT3*/
				"FM_CPU0_DISABLE_COD_N", "",
				"RST_LVC3_CPU0_RESET_N", "PWRGD_LVC3_CPU0_PWRGOOD",
				"PWRGD_PLT_AUX_CPU0_LVT3", "",
				"", "",
				/* GPORT4*/
				"H_LVT3_CPU0_PROCHOT_N", "H_LVT3_CPU0_MEMHOT_IN_N",
				"H_LVT3_CPU0_MEMHOT_OUT_N", "H_LVT3_CPU0_MEMTRIP_OUT_N",
				"H_LVT3_CPU0_THERMTRIP_OUT_N", "",
				"H_LVT3_CPU0_NMI", "FM_S3M_CPU0_CD_INIT_ERROR",
				/* GPORT5*/
				"FM_CPU0_PKG_ID0", "FM_CPU0_PKG_ID1",
				"FM_CPU0_PROC_ID0", "FM_CPU0_PROC_ID1";
			};
		};
		i2c@1 { // SMB_PIROM_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <1>;
		};
		i2c@2 { // SMB_VR_PVCCINFAON_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <2>;
			xdpe_pvccinfaon_pvccfa_cpu0@40 {
				compatible = "infineon,xdpe11280";
				reg = <0x58>;
				// using  SMB_VR_PVCCINFAON_CPU0_ALERT_N
				interrupt-parent = <&smb_pex_cpu0_event>;
				interrupts = <9 IRQ_TYPE_LEVEL_LOW>;

				vdrv-supply = <&p5v>;
				regulators {
					pvccinfaon_cpu0: vout0 {
						regulator-compatible = "vout0";
						regulator-name = "pvccinfaon_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
					pvccfa_ehv_cpu0: vout1 {
						regulator-compatible = "vout1";
						regulator-name = "pvccfa_ehv_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
				};
			};
			tda38640_pvnn_main_cpu0@40 {
				compatible = "infineon,tda38640";
				reg = <0x40>;
				// using SMB_VR_PVNN_MAIN_CPU0_ALERT_N
				interrupt-parent = <&smb_pex_cpu0_event>;
				interrupts = <10 IRQ_TYPE_LEVEL_LOW>;
				regulators {
					pvnn_main_cpu0: vout0 {
						regulator-compatible = "vout0";
						regulator-name = "pvnn_main_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
				};
			};
		};
		i2c@3 { // SMB_VR_PVCCIN_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <3>;
			xdpe_pvccin_pvccfa_cpu0@40 {
				compatible = "mps,mp2973";
				reg = <0x58>;
				// using SMB_VR_PVCCIN_CPU0_ALERT_N
				interrupt-parent = <&smb_pex_cpu0_event>;
				interrupts = <12 IRQ_TYPE_LEVEL_LOW>;

				vdrv-supply = <&p5v>;
				regulators {
					pvccin_cpu0: vout0 {
						regulator-compatible = "vout0";
						regulator-name = "pvccin_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
					pvccfa_ehv_fivra_cpu0: vout1 {
						regulator-compatible = "vout1";
						regulator-name = "pvccfa_ehv_fivra_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
				};
			};
		};
		i2c@4 { // SMB_VR_PVCCD_HV_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <4>;
			tda38640_pvccd_hv_cpu0@40 {
				compatible = "infineon,tda38640";
				reg = <0x40>;
				// using  SMB_VR_PVCCD_HV_CPU0_ALERT_N
				interrupt-parent = <&smb_pex_cpu0_event>;
				interrupts = <11 IRQ_TYPE_LEVEL_LOW>;
				regulators {
					pvccd_hv_cpu0: vout0 {
						regulator-compatible = "vout0";
						regulator-name = "pvccd_hv_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
				};
			};
		};
		i2c@5 { // SMB_VR_PVPP_HBM_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <5>;
			tda38640_pvpp_hbm_cpu0@40 {
				compatible = "infineon,tda38640";
				reg = <0x40>;
				// using   SMB_VR_PVPP_HBM_CPU0_ALERT_N
				interrupt-parent = <&smb_pex_cpu0_event>;
				interrupts = <8 IRQ_TYPE_LEVEL_LOW>;
				regulators {
					pvpp_hbm_cpu0: vout0 {
						regulator-compatible = "vout0";
						regulator-name = "pvpp_hbm_cpu0";
						regulator-enable-ramp-delay = <200>;
						vin-supply = <&p12v_a>;
					};
				};
			};
		};
		i2c@6 { // I2C_DDRABCD_CPU0_BMC
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <6>;
		};
		i2c@7 { // I2C_DDREFGH_CPU0
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <7>;
		};
	};
};
