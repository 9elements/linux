# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/gpio/cypress,cy8c95x0.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Cypress CY8C95X0 I2C GPIO expander

maintainers:
  - Patrick Rudolph <patrick.rudolph@9elements.com>

description:
  This supports the 20/40/60 pin Cypress cyC95x0 GPIO I2C expanders.

properties:
  compatible:
    enum:
      - cypress,cy8c9520
      - cypress,cy8c9540
      - cypress,cy8c9560

  #address-cells:
    const: 2

  reg:
    maxItems: 1

  gpio-controller: true

  '#gpio-cells':
    const: 2

  interrupts:
    maxItems: 1

  interrupt-controller: true

  ngpios:
    minimum: 1
    maximum: 60

  gpio-line-names:
    minItems: 1
    maxItems: 60

  vdd-supply:
    description:
      Optional power supply.

required:
  - compatible
  - #address-cells
  - #size-cells
  - reg
  - gpio-controller
  - #gpio-cells

additionalProperties: false

examples:
  - |
    gpo0: gpo@20 {
        #address-cells = <1>;
        #size-cells = <0>;
        compatible = "cypress,cy8c9520";
        reg = <0x20>;
        gpio-controller;
        #gpio-cells = <2>;
        #interrupt-cells=<2>;
        interrupt-parent = <&irq_ctrl>;
        interrupts = <10 IRQ_TYPE_LEVEL_HIGH>;
        interrupt-controller;
        vdd-supply = <&p3v3>;
        ngpios = <16>;
        gpio-reserved-ranges = <5 1>;

        gpio-line-names =
        /* GPORT0 */
        "", "PWRGD_PVTT_ABC_CPU0",
        "SMB_VR_CPU0_PVCCIN_ALERT", "SMB_VR_CPU0_DEF_ALERT",
        "PWRGD_PVTT_DEF_CPU0", "", "RST_LVC3_CPU0_RESET_N",
        "SMB_VR_CPU0_PVCCIO_ALERT",
        /* GPORT1 */
        "FM_CPU0_ADR_COMPLETE_DLY", "FM_CPU0_ADR_COMPLETE_N",
        "PWRGD_LVC3_CPU0_PWRGOOD", "H_LVT3_CPU0_PROCHOT_N",
        "H_LVT3_CPU0_MEM_ABC_HOT_N", "H_LVT3_CPU0_MEM_DEF_HOT_N",
        "PWRGD_LVC3_CPU0_ABC_DRAM_G", "PWRGD_LVC3_CPU0_DEF_DRAM_G";
    };
