# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/regulator/userspace-consumer.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Regulator userspace consumer driver

maintainers:
  - Patrick Rudolph <patrick.rudolph@9elements.com>

description: |
  Regulator userspace consumer driver helps interact with regulator.
  Optionally uses sysfs notify to capture regulator events into userspace
  application.
  This enables userspace application to monitor events in regulator(s) &
  handle them appropriately.


properties:
  compatible:
    enum:
      - reg-userspace-consumer

  regulator-name:
    description: Name of the consumer line

  regulator-boot-on:
    description: Enable regulator during boot

  regulator-supplies:
    description: Supply names for this regulator. This can be multiple strings

  regulator-notify-enable:
    description: Enable sysfs notify for regulator events

patternProperties:
  ".*-supply$":
    description: |
      Input supply phandle(s) for this node. There should be
      <supply-name>-supply to pass regulators handle

required:
  - compatible
  - regulator-supplies
  - ".*-supply$"

additionalProperties: false

examples:
  - |
    p12v_b_consumer {
        compatible = "reg-userspace-consumer";
        regulator-name = "BCM1";
        regulator-supplies = "vbus";
        vbus-supply = <&p12v_b>;
    };

    ssb_rssd32 {
        compatible = "reg-userspace-consumer";
        regulator-name = "ssb_rssd32";
        regulator-supplies = "sw0", "sw1";
        sw0-supply = <&sw0_ssb_rssd32>;
        sw1-supply = <&sw1_ssb_rssd32>;
    };
...
